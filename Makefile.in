# Makefile for DOSEMU
#
# Always use src as the top-level

export WAIT=yes
export do_DEBUG=no

@SET_MAKE@

default install clean realclean echo help depend:
	@$(MAKE) -C src $@

all:
	@$(MAKE) -C src default

docs:
	@$(MAKE) -C src/doc all

docsinstall:
	@$(MAKE) -C src/doc install

docsclean:
	@$(MAKE) -C src/doc clean

midid:
	@$(MAKE) -C src/arch/linux/dosext/sound/midid

mididclean:
	@$(MAKE) -C src/arch/linux/dosext/sound/midid cleanall

pristine:  docsclean mididclean
	@$(MAKE) -C src $@
	rm -f config.cache config.status config.log src/include/config.h
	rm -f src/Makefile.common src/arch/linux/Makefile.main
	rm -f core `find src -name Makefile`
	rm -f man/Makefile
	rm -f core `find . -name '*~'`
	rm -f core `find . -name '*[\.]o'`
	rm -f core `find . -name '*.d'`
	rm -f core `find . -name '*[\.]orig'`
	rm -f core `find . -name '*[\.]rej'`
	rm -f core gen*.log `find . -size 0`
	(cd setup/demudialog; make clean)
	rm -f Makefile
